import{u as C,C as g,a as N,c as G}from"./data.ba0fae50.js";import{S as w,i as y,s as S,e as f,a as b,t as j,b as _,k as A,c as E,d as p,m as I,l as M,h as Y,n as P,f as q,r as v,g as k}from"./vendor.98377833.js";function B(c){let u,a,t,o,i,s,r,l,m,d,e;return{c(){u=f("main"),a=f("div"),t=f("input"),i=b(),s=f("button"),s.textContent="Create",r=b(),l=f("p"),m=j(c[2]),_(t,"placeholder",o=`Name of ${c[0]?"NPC":"Character"}`),A(l,"color","crimson"),A(l,"text-align","center"),_(a,"class","column fullscreen")},m(n,h){E(n,u,h),p(u,a),p(a,t),I(t,c[1]),p(a,i),p(a,s),p(a,r),p(a,l),p(l,m),d||(e=[M(t,"input",c[6]),M(s,"click",c[7])],d=!0)},p(n,[h]){h&1&&o!==(o=`Name of ${n[0]?"NPC":"Character"}`)&&_(t,"placeholder",o),h&2&&t.value!==n[1]&&I(t,n[1]),h&4&&Y(m,n[2])},i:P,o:P,d(n){n&&q(u),d=!1,v(e)}}}function O(c,u,a){let t,o;k(c,g,e=>a(3,t=e)),k(c,G,e=>a(4,o=e));let i=C.get("gm")==="true",s=C.get("campaign");i&&(s===null||!Object.keys(t).includes(s))&&(i=!1);let r="",l="";function m(){r=this.value,a(1,r)}return[i,r,l,t,o,s,m,()=>{r!==""?i?t[s].reduce((e,n)=>n.name===r||e,!1)?a(2,l="You're already playing an NPC with that name"):(g.update(e=>(e[s].push(new N({name:r})),e)),location.href=`../character-data/?gm=true&campaign=${s}&character=${r}`):o.reduce((e,n)=>n.name===r||e,!1)?a(2,l="You're already playing a character with that name"):(G.update(e=>(e.push(new N({name:r})),e)),location.href=`../character-data/?gm=false&character=${r}`):a(2,l="Enter a name")}]}class z extends w{constructor(u){super();y(this,u,O,B,S,{})}}new z({target:document.getElementById("app")});
