var p=Object.defineProperty;var g=(s,e,r)=>e in s?p(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var a=(s,e,r)=>(g(s,typeof e!="symbol"?e+"":e,r),r);const b=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(t){if(t.ep)return;t.ep=!0;const i=r(t);fetch(t.href,i)}};b();class c{constructor(e,r){a(this,"_value");a(this,"subscribers",[]);this._value=e,r&&this.subscribers.push(r)}get value(){return this._value}set value(e){this._value=e,this.notifySubscribers()}notifySubscribers(){this.subscribers.forEach(e=>{e(this.value)})}subscribe(e){return this.subscribers.push(e),e(this.value),()=>{let r=this.subscribers.indexOf(e);r!=-1&&this.subscribers.splice(r,1)}}set(e){this.value=e}update(e){this.value=e(this.value)}}class l{constructor(e){a(this,"name");a(this,"hp_max");a(this,"hp");a(this,"initiative");var r,n,t;this.name=e.name,this.hp=(r=e.hp)!=null?r:null,this.hp_max=(n=e.hp_max)!=null?n:null,this.initiative=(t=e.initiative)!=null?t:null}}var f;let v=new c(JSON.parse((f=localStorage.getItem("characters"))!=null?f:"[]").map(s=>new l(s)),s=>localStorage.setItem("characters",JSON.stringify(s)));const y=new URLSearchParams(location.search);var m;let u=JSON.parse((m=localStorage.getItem("campaigns_gming"))!=null?m:"{}"),h={};Object.keys(u).forEach(s=>{h[s]=u[s].map(e=>new l(e))});let S=new c(h,s=>localStorage.setItem("campaigns_gming",JSON.stringify(s)));export{S as C,c as S,l as a,v as c,y as u};
